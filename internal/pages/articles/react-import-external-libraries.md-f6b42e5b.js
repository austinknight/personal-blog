import{S as J,i as K,s as Q,D as M,x as V,y as X,z as Y,A as tt,B as U,r as et,p as at,C as nt,O as z,e as d,t as h,k as j,c as k,a as m,h as w,d as a,m as T,b as I,g as p,I as u,n as st}from"../../chunks/index-bd948dec.js";import{P as ot}from"../../chunks/_post-3091f67d.js";import"../../chunks/index-70edd345.js";function lt(g){let e,c,r,i,n=`<code class="language-javascript"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Twilio <span class="token keyword">from</span> <span class="token string">'twilio'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">myComponent</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">const</span> <span class="token function-variable function">handleClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
		Twilio<span class="token punctuation">.</span>Device<span class="token punctuation">.</span><span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

	<span class="token keyword">return</span> <span class="token punctuation">(</span>
		<span class="token operator">&lt;</span>div<span class="token operator">></span>
			<span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">&#123;</span>handleClick<span class="token punctuation">&#125;</span><span class="token operator">></span>Click It<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>
		<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
	<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code>`,l,o,C,b,E,P,f,$,A,q,v,O,R,y,Z=`<code class="language-javascript">  <span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
  <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'script!../path/to/your/script/twilio-client.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">myComponent</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">handleClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    Twilio<span class="token punctuation">.</span>Device<span class="token punctuation">.</span><span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>

  <span class="token keyword">return</span><span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">></span>
      <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">&#123;</span>handleClick<span class="token punctuation">&#125;</span><span class="token operator">></span>Click It<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token punctuation">)</span></code>`,W,_,H;return{c(){e=d("p"),c=h("I\u2019ve been writing a lot more with React these days, and along with React I\u2019ve learned some new build tools that are commonly accepted among the React community, namely Webpack. If you are familiar with Webpack, you know it\u2019s pretty simple to include a list of javascript files you want bundled. When using import or require statements to include module dependencies in components, Webpack goes out and includes those files in the bundle. It looks a little something like this when writing a React component:"),r=j(),i=d("pre"),l=j(),o=d("p"),C=h("I\u2019m not going to go into how to set up webpack ("),b=d("a"),E=h("you can read the docs here"),P=h("), but based on how you\u2019ve configured your build, webpack will know that it needs to include the Twilio module in the final bundle because we\u2019ve explicitly imported it in this file. However, I ran into a tricky problem using a javascript client library from Twilio. The library is typical of most javascript client libraries in that it wants to add itself to the global window context of your application. A lot of modules I use in components are simply objects and functions that operate independent of window, but sometimes I need a client library of another application and those typically use window. Unfortunately, modules that depend on the global window context don\u2019t play nice with the Webpack bundler, because webpack won\u2019t execute scripts in the global context by default. One solution to this problem could be to load this dependency that relies on window by using one script tag to load window dependent modules and another script tag to load the bundled js file that includes the rest of the application, but that extracts code out of the managed bundle and the window dependent modules may not be accessible when you expect it them be in your components. To get around this, webpack has a handy little loader, conveniently called the \u201D"),f=d("a"),$=h("script loader"),A=h("\u201D. It allows us to require a script in a component, like any other module dependency, but it tells webpack to execute the file in the global context once, and will not parse the require statement for that file. This basically behaves the same as loading the file in a script tag, but it gives the guarantee of being accessible within the module that needs it."),q=j(),v=d("p"),O=h("In order to use the script loader, it will need to be installed via NPM. Once installed, you should be able to require the module that depends on window using the script loader syntax. The syntax is a simple require statement with script! prepended to the file path of the script. Webpack will pick up this syntax and handle loading the file appropriately."),R=j(),y=d("pre"),W=j(),_=d("p"),H=h("Now that the script is loading through the script loader, we can just access the module like any other standard global method. It\u2019s not necessary to assign the require statement to a named variable because the script loader will just execute the script, which will place the module\u2019s methods onto the global window context as expected."),this.h()},l(t){e=k(t,"P",{});var s=m(e);c=w(s,"I\u2019ve been writing a lot more with React these days, and along with React I\u2019ve learned some new build tools that are commonly accepted among the React community, namely Webpack. If you are familiar with Webpack, you know it\u2019s pretty simple to include a list of javascript files you want bundled. When using import or require statements to include module dependencies in components, Webpack goes out and includes those files in the bundle. It looks a little something like this when writing a React component:"),s.forEach(a),r=T(t),i=k(t,"PRE",{class:!0});var F=m(i);F.forEach(a),l=T(t),o=k(t,"P",{});var x=m(o);C=w(x,"I\u2019m not going to go into how to set up webpack ("),b=k(x,"A",{href:!0,rel:!0});var N=m(b);E=w(N,"you can read the docs here"),N.forEach(a),P=w(x,"), but based on how you\u2019ve configured your build, webpack will know that it needs to include the Twilio module in the final bundle because we\u2019ve explicitly imported it in this file. However, I ran into a tricky problem using a javascript client library from Twilio. The library is typical of most javascript client libraries in that it wants to add itself to the global window context of your application. A lot of modules I use in components are simply objects and functions that operate independent of window, but sometimes I need a client library of another application and those typically use window. Unfortunately, modules that depend on the global window context don\u2019t play nice with the Webpack bundler, because webpack won\u2019t execute scripts in the global context by default. One solution to this problem could be to load this dependency that relies on window by using one script tag to load window dependent modules and another script tag to load the bundled js file that includes the rest of the application, but that extracts code out of the managed bundle and the window dependent modules may not be accessible when you expect it them be in your components. To get around this, webpack has a handy little loader, conveniently called the \u201D"),f=k(x,"A",{href:!0,rel:!0});var D=m(f);$=w(D,"script loader"),D.forEach(a),A=w(x,"\u201D. It allows us to require a script in a component, like any other module dependency, but it tells webpack to execute the file in the global context once, and will not parse the require statement for that file. This basically behaves the same as loading the file in a script tag, but it gives the guarantee of being accessible within the module that needs it."),x.forEach(a),q=T(t),v=k(t,"P",{});var L=m(v);O=w(L,"In order to use the script loader, it will need to be installed via NPM. Once installed, you should be able to require the module that depends on window using the script loader syntax. The syntax is a simple require statement with script! prepended to the file path of the script. Webpack will pick up this syntax and handle loading the file appropriately."),L.forEach(a),R=T(t),y=k(t,"PRE",{class:!0});var G=m(y);G.forEach(a),W=T(t),_=k(t,"P",{});var S=m(_);H=w(S,"Now that the script is loading through the script loader, we can just access the module like any other standard global method. It\u2019s not necessary to assign the require statement to a named variable because the script loader will just execute the script, which will place the module\u2019s methods onto the global window context as expected."),S.forEach(a),this.h()},h(){I(i,"class","language-javascript"),I(b,"href","https://webpack.github.io/docs/"),I(b,"rel","nofollow"),I(f,"href","https://github.com/webpack/script-loader"),I(f,"rel","nofollow"),I(y,"class","language-javascript")},m(t,s){p(t,e,s),u(e,c),p(t,r,s),p(t,i,s),i.innerHTML=n,p(t,l,s),p(t,o,s),u(o,C),u(o,b),u(b,E),u(o,P),u(o,f),u(f,$),u(o,A),p(t,q,s),p(t,v,s),u(v,O),p(t,R,s),p(t,y,s),y.innerHTML=Z,p(t,W,s),p(t,_,s),u(_,H)},p:st,d(t){t&&a(e),t&&a(r),t&&a(i),t&&a(l),t&&a(o),t&&a(q),t&&a(v),t&&a(R),t&&a(y),t&&a(W),t&&a(_)}}}function it(g){let e,c;const r=[g[0],B];let i={$$slots:{default:[lt]},$$scope:{ctx:g}};for(let n=0;n<r.length;n+=1)i=M(i,r[n]);return e=new ot({props:i}),{c(){V(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,l){Y(e,n,l),c=!0},p(n,[l]){const o=l&1?tt(r,[l&1&&U(n[0]),l&0&&U(B)]):{};l&2&&(o.$$scope={dirty:l,ctx:n}),e.$set(o)},i(n){c||(et(e.$$.fragment,n),c=!0)},o(n){at(e.$$.fragment,n),c=!1},d(n){nt(e,n)}}}const B={title:"React - Import External Libraries With Webpack",preview:"A brief tutorial on a tricky import problem",date:"2016-07-07T00:00:00.000Z",categories:["javascript"],tags:["how-to","react","webpack"]};function pt(g,e,c){return g.$$set=r=>{c(0,e=M(M({},e),z(r)))},e=z(e),[e]}class dt extends J{constructor(e){super(),K(this,e,pt,it,Q,{})}}export{dt as default,B as metadata};
